<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>MongoDB | Felix's Blog</title>
<meta name=keywords content><meta name=description content="MongoDB数据存储 MongoDB是一个非关系型数据库(NoSQL). 非常适合超大数据集的存储, 由 C++ 语言编写,旨在为 WEB 应用提供可扩展的高性"><meta name=author content="
作者:Felix"><link rel=canonical href=https://canw0916.github.io/en/posts/tech/mongodb/><link crossorigin=anonymous href=/assets/css/stylesheet.a7d877c95a8fd8f651ae0a99e2d0566db6cd06091905d495b3f79ebd3536ed91.css integrity="sha256-p9h3yVqP2PZRrgqZ4tBWbbbNBgkZBdSVs/eevTU27ZE=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://canw0916.github.io/img/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://canw0916.github.io/img/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://canw0916.github.io/img/favicon-32x32.png><link rel=apple-touch-icon href=https://canw0916.github.io/img/apple-touch-icon.png><link rel=mask-icon href=https://canw0916.github.io/img/android-chrome-512x512.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://canw0916.github.io/en/posts/tech/mongodb/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-7ENSZ7BS0C"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-7ENSZ7BS0C")}</script><meta property="og:title" content="MongoDB"><meta property="og:description" content="MongoDB数据存储 MongoDB是一个非关系型数据库(NoSQL). 非常适合超大数据集的存储, 由 C++ 语言编写,旨在为 WEB 应用提供可扩展的高性"><meta property="og:type" content="article"><meta property="og:url" content="https://canw0916.github.io/en/posts/tech/mongodb/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-02-10T14:57:56+08:00"><meta property="article:modified_time" content="2023-02-10T14:57:56+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="MongoDB"><meta name=twitter:description content="MongoDB数据存储 MongoDB是一个非关系型数据库(NoSQL). 非常适合超大数据集的存储, 由 C++ 语言编写,旨在为 WEB 应用提供可扩展的高性"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"📚文章","item":"https://canw0916.github.io/en/posts/"},{"@type":"ListItem","position":2,"name":"🚀 技术","item":"https://canw0916.github.io/en/posts/tech/"},{"@type":"ListItem","position":3,"name":"MongoDB","item":"https://canw0916.github.io/en/posts/tech/mongodb/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"MongoDB","name":"MongoDB","description":"MongoDB数据存储 MongoDB是一个非关系型数据库(NoSQL). 非常适合超大数据集的存储, 由 C++ 语言编写,旨在为 WEB 应用提供可扩展的高性","keywords":[""],"articleBody":"MongoDB数据存储 MongoDB是一个非关系型数据库(NoSQL). 非常适合超大数据集的存储, 由 C++ 语言编写,旨在为 WEB 应用提供可扩展的高性能数据存储解决方案。MongoDB 是一个介于关系数据库和非关系数据库之间的产品，是非关系数据库当中功能最丰富，最像关系数据库的。\n下面是Sql与mongodb的术语对比\nSQL Mongodb 表（Talbe） 集合（Collection） 行（Row） 文档（Document） 列（Col） 字段（Field） 主键（Primary Key） 对象ID（ObjectId） 一, MongoDB与安装(windows) 首先去官网下载MongoDB的安装包, https://www.mongodb.com/try/download/community\n将mongodb目录下的bin文件夹添加到环境变量\n对于mac的安装:https://blog.csdn.net/qq991658923/article/details/121436106\nMac启动： mongod –dbpath /opt/mongodb/data –logpath /opt/mongodb/log/mongo.log –fork mongo 二, MongoDB的简单使用 简单介绍一下mongoDB中一些操作(了解)\nshow dbs: 显示所有数据库 show databases: 显示所有数据库 use xxxx: 使用指定数据库/创建数据库（新库中插入数据才可以显示新库） db: 当前正在使用的数据库 db.dropDatabase(): 删除数据库 show collections: 显示当前数据库中所有的集合(表) 三, MongoDB的增删改查 1. mongodb中常见的数据类型(了解): Object ID: 主键ID【\"_id\" : ObjectId(\"56063f17ade2f21f36b03133\")】 String: 字符串 Boolean: 布尔值 Integer: 数字 Doube: 小数 Arrays: 数组,[1,2,3] Object: 文档(关联其他对象) {sname: 李嘉诚, sage: 18, class:{cccc}} Null : 空值 Timestamp: 时间戳 Date: 时间日期 2. mongodb插入数据/文档 #collection_name集合/表不存在则会新建 db.collection_name.insert({字段:值,字段:值}) 示例:\ndb.c1.insert({name:\"bobo\", age:18, hobby:['eat', 'sleep']}) 插入多条数据：\n#c1是表名/集合名 db.getCollection('c1').insertMany([ { \"name\":\"bobo\", }, { \"address\":\"河北\" }, ] ); 注意, 如果集合不存在. 则会自动创建集合\n插入数据后可以查询所有数据查看是否插入成功：\ndb.stu.find() 3. mongodb修改数据 3.1 update更新 #d1是表名 db.d1.update({查询条件}, {待修改内容}, {multi: 是否多条数据修改}) multi:true表示修改满足条件所有的内容，否则只修改满足条件的第一条内容,multi不写默认为false 示例:\ndb.d1.update({name:\"bobo\"}, {$set:{title:\"alex\", hobby:['抽烟', '喝酒', '烫头']}}, {multi:true}); 4.mongodb删除数据 4.1 remove() db.collection_name.remove({条件}, {justOne:true|false}) db.collection_name.remove() 删除所有记录 db.collection_name.drop() 删除collection/表 示例:\ndb.nor_col.remove({name:\"jay\"}, {justOne:true}) 4.2 deleteOne() db.collection_name.deleteOne({条件}) 示例:\ndb.nor_col.deleteOne({name:\"jay\"}) 4.3 deleteMany() db.collection_name.deleteMany({条件}) 示例:\ndb.nor_col.deleteMany({name:\"jay\"}) 5. mongodb查询数据 准备数据:\ndb.stu.insert([ {name: \"朱元璋\", age:800, address:'安徽省凤阳', score: 160}, {name: \"朱棣\", age:750, address:'江苏省南京市', score: 120}, {name: \"朱高炽\", age:700, address:'北京紫禁城', score: 90}, {name: \"李嘉诚\", age:38, address:'香港xxx街道', score: 70}, {name: \"麻花藤\", age:28, address:'广东省xxx市', score: 80}, {name: \"大老王\", age:33, address:'火星第一卫星', score: -60}, {name: \"咩咩\", age:33, address:'开普勒225旁边的黑洞', score: -160} ]) 5.1 普通查询 db.c1.find() 查询所有 db.c1.find({\"字段\":\"固定值\"}) 查询满足条件的所有数据 db.c1.findOne({条件}) 查询满足条件的第一条数据 db.getCollection('c1').find({\"字段1\":\"固定值1\",\"字段2\":\"固定值2\"}) 5.2 比较运算 等于： 默认是等于判断， $eq 小于：$lt （less than） 小于等于：$lte （less than equal） 大于：$gt （greater than） 大于等于：$gte 不等于：$ne db.stu.find({age:28}) 查询年龄是28岁的学生信息 db.stu.find({age: {$eq: 28}}) 查询年龄是28岁的学生信息 db.stu.find({age: {$gt: 30}}) 查询年龄大于30岁的学生 db.stu.find({age: {$lt: 30}}) 查询年龄小于30岁的学生 db.stu.find({age: {$gte: 38}}) 查询年龄大于等于30岁的学生 db.stu.find({age: {$lte: 38}}) 查询年龄小于等于30岁的学生 db.stu.find({age: {$ne: 38}}) 查询年龄不等于38的学生 5.3 逻辑运算符 and $and: [条件1, 条件2, 条件3….] 查询年龄等于33, 并且, 名字是\"大老王\"的学生信息 db.stu.find({$and:[{age: {$eq:33}}, {name:'大老王'}]}) or $or: [条件1, 条件2, 条件3] 查询名字叫\"李嘉诚\"的, 或者, 年龄超过100岁的人 db.stu.find({$or: [{name: '李嘉诚'}, {age: {$gt: 100}}]}) nor\n$nor: [条件1, 条件2, 条件3]\n查询年龄不小于38岁的人, 名字还不能是朱元璋. db.stu.find({$nor: [{age: {$lt: 38}}, {name: \"朱元璋\"}]}) 5.4 范围运算符 ​\t使用$in， $nin判断数据是否在某个数组内\ndb.stu.find({age: {$in:[28, 38]}}) 年龄是28或者38的人 5.5 正则表达式 ​\t使用$regex进行正则表达式匹配\ndb.stu.find({address: {$regex:'^北京'}}) 查询地址是北京的人的信息 db.stu.find({address: /^北京/}) 效果一样 5.6 skip和limit db.stu.find().skip(3).limit(3)\t跳过3个. 提取3个. 类似limit 3, 3 可以用来做分页\n5.7 排序 sort({字段:1, 字段:-1})\n1表示升序 -1表示降序\n对查询结果排序, 先按照age升序排列, 相同项再按照score降序排列 db.stu.find().sort({age:1, score: -1}) 5.8 统计数量 count(条件) 查询数量\ndb.stu.count({age:33}) 四，pymongo的使用 python处理mongodb首选就是pymongo. 首先, 安装一下这个模块\npip install pymongo 建立连接\nimport pymongo conn = pymongo.MongoClient(host='localhost', port=27017) # 切换数据库 py = conn['python'] # 登录该数据库(需要的话) #py.authenticate(\"python_admin\", '123456') # 简单来个查询 result = py[\"stu\"].find() for r in result: print(r) 完成增删改查\nimport pymongo from pymongo import MongoClient #创建返回链接对象 def get_db(database): client = MongoClient(host=\"localhost\", port=27017) db = client[database] return db # 增删改查 # 增加数据 def add_one(table, data): db = get_db(\"python\") result = db[table].insert_one(data) return result def add_many(table, data_list): db = get_db(\"python\") result = db[table].insert_many(data_list) return result.inserted_ids def upd(table, condition, data):#condition条件 db = get_db(\"python\") result = db[table].update_many(condition, {'$set':data}) return result def delete(table, condition):#condition条件 db = get_db(\"python\") result = db[table].delete_many(condition) return result if __name__ == '__main__': # r = add_one(\"stu\", {\"name\": \"西瓜\", \"age\":18}) # print(r.inserted_id) # r = add_many(\"stu\", [{\"name\": \"嘎嘎\"},{\"name\": \"咔咔\"}]) # print(r) # result = upd(\"stu\", {\"name\": '西瓜'}, {\"age\": 100}) # print(result) result = delete(\"stu\", {\"name\": \"嘎嘎\"}) print(result) ","wordCount":"2693","inLanguage":"en","datePublished":"2023-02-10T14:57:56+08:00","dateModified":"2023-02-10T14:57:56+08:00","author":[{"@type":"Person","name":"Felix"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://canw0916.github.io/en/posts/tech/mongodb/"},"publisher":{"@type":"Organization","name":"Felix's Blog","logo":{"@type":"ImageObject","url":"https://canw0916.github.io/img/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><script async src=https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js></script><header class=header><nav class=nav><div class=logo><a href=https://canw0916.github.io/en/ accesskey=h title="Felix's Blog (Alt + H)"><img src=https://canw0916.github.io/img/android-chrome-512x512.png alt=logo aria-label=logo height=35>Felix's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://canw0916.github.io/en/search title="🔍 搜索 (Alt + /)" accesskey=/><span>🔍 搜索</span></a></li><li><a href=https://canw0916.github.io/en/ title="🏠 主页"><span>🏠 主页</span></a></li><li><a href=https://canw0916.github.io/en/posts title="📚 文章"><span>📚 文章</span></a></li><li><a href=https://canw0916.github.io/en/tags title="💡 标签"><span>💡 标签</span></a></li><li><a href=https://canw0916.github.io/en/archives/ title="⏱️ 时间轴"><span>⏱️ 时间轴</span></a></li><li><a href=https://canw0916.github.io/en/about title="👦 关于"><span>👦 关于</span></a></li><li><a href=https://canw0916.github.io/en/links title="😺 友链"><span>😺 友链</span></a></li></ul></nav></header><main class="main page"><article class=post-single><div id=single-content><header class=post-header><div class=breadcrumbs><a href=https://canw0916.github.io/en/>🏠主页</a>&nbsp;»&nbsp;<a href=https://canw0916.github.io/en/posts/>📚文章</a>&nbsp;»&nbsp;<a href=https://canw0916.github.io/en/posts/tech/>🚀 技术</a></div><h1 class=post-title>MongoDB</h1><div class=post-meta>创建:2023-02-10|字数:2693字|时长: 6分钟|
作者:Felix
&nbsp;&nbsp;标签: &nbsp;<ul class=post-tags-meta><a href=https://canw0916.github.io/en/tags/python/>Python</a></ul><span id=busuanzi_container_page_pv>&nbsp;| 访问: <span id=busuanzi_value_page_pv></span></span></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>文章目录</span></summary><div class=inner><ul><li><a href=#mongodb%e6%95%b0%e6%8d%ae%e5%ad%98%e5%82%a8 aria-label=MongoDB数据存储>MongoDB数据存储</a><ul><li><a href=#%e4%b8%80-mongodb%e4%b8%8e%e5%ae%89%e8%a3%85windows aria-label="一, MongoDB与安装(windows)">一, MongoDB与安装(windows)</a></li><li><a href=#%e4%ba%8c-mongodb%e7%9a%84%e7%ae%80%e5%8d%95%e4%bd%bf%e7%94%a8 aria-label="二, MongoDB的简单使用">二, MongoDB的简单使用</a></li><li><a href=#%e4%b8%89-mongodb%e7%9a%84%e5%a2%9e%e5%88%a0%e6%94%b9%e6%9f%a5 aria-label="三, MongoDB的增删改查">三, MongoDB的增删改查</a><ul><li><a href=#1-mongodb%e4%b8%ad%e5%b8%b8%e8%a7%81%e7%9a%84%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b%e4%ba%86%e8%a7%a3 aria-label="1. mongodb中常见的数据类型(了解):">1. mongodb中常见的数据类型(了解):</a></li><li><a href=#2-mongodb%e6%8f%92%e5%85%a5%e6%95%b0%e6%8d%ae%e6%96%87%e6%a1%a3 aria-label="2. mongodb插入数据/文档">2. mongodb插入数据/文档</a></li><li><a href=#3-mongodb%e4%bf%ae%e6%94%b9%e6%95%b0%e6%8d%ae aria-label="3. mongodb修改数据">3. mongodb修改数据</a><ul><li><a href=#31-update%e6%9b%b4%e6%96%b0 aria-label="3.1 update更新">3.1 update更新</a></li></ul></li><li><a href=#4mongodb%e5%88%a0%e9%99%a4%e6%95%b0%e6%8d%ae aria-label=4.mongodb删除数据>4.mongodb删除数据</a><ul><li><a href=#41-remove aria-label="4.1 remove()">4.1 remove()</a></li><li><a href=#42-deleteone aria-label="4.2 deleteOne()">4.2 deleteOne()</a></li><li><a href=#43-deletemany aria-label="4.3 deleteMany()">4.3 deleteMany()</a></li></ul></li><li><a href=#5-mongodb%e6%9f%a5%e8%af%a2%e6%95%b0%e6%8d%ae aria-label="5. mongodb查询数据">5. mongodb查询数据</a><ul><li><a href=#51-%e6%99%ae%e9%80%9a%e6%9f%a5%e8%af%a2 aria-label="5.1 普通查询">5.1 普通查询</a></li><li><a href=#52-%e6%af%94%e8%be%83%e8%bf%90%e7%ae%97 aria-label="5.2 比较运算">5.2 比较运算</a></li><li><a href=#53-%e9%80%bb%e8%be%91%e8%bf%90%e7%ae%97%e7%ac%a6 aria-label="5.3 逻辑运算符">5.3 逻辑运算符</a></li><li><a href=#54-%e8%8c%83%e5%9b%b4%e8%bf%90%e7%ae%97%e7%ac%a6 aria-label="5.4 范围运算符">5.4 范围运算符</a></li><li><a href=#55-%e6%ad%a3%e5%88%99%e8%a1%a8%e8%be%be%e5%bc%8f aria-label="5.5 正则表达式">5.5 正则表达式</a></li><li><a href=#56-skip%e5%92%8climit aria-label="5.6 skip和limit">5.6 skip和limit</a></li><li><a href=#57-%e6%8e%92%e5%ba%8f aria-label="5.7 排序">5.7 排序</a></li><li><a href=#58-%e7%bb%9f%e8%ae%a1%e6%95%b0%e9%87%8f aria-label="5.8 统计数量">5.8 统计数量</a></li></ul></li></ul></li><li><a href=#%e5%9b%9bpymongo%e7%9a%84%e4%bd%bf%e7%94%a8 aria-label=四，pymongo的使用>四，pymongo的使用</a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h1 id=mongodb数据存储>MongoDB数据存储<a hidden class=anchor aria-hidden=true href=#mongodb数据存储>#</a></h1><p>MongoDB是一个非关系型数据库(NoSQL). 非常适合超大数据集的存储, 由 C++ 语言编写,旨在为 WEB 应用提供可扩展的高性能数据存储解决方案。MongoDB 是一个介于关系数据库和非关系数据库之间的产品，是非关系数据库当中功能最丰富，最像关系数据库的。</p><p>下面是Sql与mongodb的术语对比</p><table><thead><tr><th style=text-align:center><strong>SQL</strong></th><th style=text-align:center><strong>Mongodb</strong></th></tr></thead><tbody><tr><td style=text-align:center>表（Talbe）</td><td style=text-align:center>集合（Collection）</td></tr><tr><td style=text-align:center>行（Row）</td><td style=text-align:center>文档（Document）</td></tr><tr><td style=text-align:center>列（Col）</td><td style=text-align:center>字段（Field）</td></tr><tr><td style=text-align:center>主键（Primary Key）</td><td style=text-align:center>对象ID（ObjectId）</td></tr></tbody></table><h2 id=一-mongodb与安装windows>一, MongoDB与安装(windows)<a hidden class=anchor aria-hidden=true href=#一-mongodb与安装windows>#</a></h2><p>首先去官网下载MongoDB的安装包, <a href=https://www.mongodb.com/try/download/community>https://www.mongodb.com/try/download/community</a></p><img src=https://cdn.jsdelivr.net/gh/canw0916/picgo_imgs@main/blog/image-20210728093724660.png alt=image-20210728093724660 style=zoom:50%>
<img src=https://cdn.jsdelivr.net/gh/canw0916/picgo_imgs@main/blog/image-20210728093838499.png alt=image-20210728093838499 style=zoom:50%>
<img src=https://cdn.jsdelivr.net/gh/canw0916/picgo_imgs@main/blog/image-20210728093906551.png alt=image-20210728093906551 style=zoom:50%>
<img src=https://cdn.jsdelivr.net/gh/canw0916/picgo_imgs@main/blog/image-20210728094404958.png alt=image-20210728094404958 style=zoom:50%>
<img src=https://cdn.jsdelivr.net/gh/canw0916/picgo_imgs@main/blog/image-20210728094441168.png alt=image-20210728094441168 style=zoom:50%>
<img src=https://cdn.jsdelivr.net/gh/canw0916/picgo_imgs@main/blog/image-20210728094521878.png alt=image-20210728094521878 style=zoom:50%>
<img src=https://cdn.jsdelivr.net/gh/canw0916/picgo_imgs@main/blog/image-20210728094547434.png alt=image-20210728094547434 style=zoom:50%>
<img src=https://cdn.jsdelivr.net/gh/canw0916/picgo_imgs@main/blog/image-20210728094627838.png alt=image-20210728094627838 style=zoom:50%>
<img src=https://cdn.jsdelivr.net/gh/canw0916/picgo_imgs@main/blog/image-20210728094653296.png alt=image-20210728094653296 style=zoom:50%>
<img src=https://cdn.jsdelivr.net/gh/canw0916/picgo_imgs@main/blog/image-20210728094727302.png alt=image-20210728094727302 style=zoom:50%>
<img src=https://cdn.jsdelivr.net/gh/canw0916/picgo_imgs@main/blog/image-20210728094750500.png alt=image-20210728094750500 style=zoom:50%><p>将mongodb目录下的bin文件夹添加到环境变量</p><img src=https://cdn.jsdelivr.net/gh/canw0916/picgo_imgs@main/blog/image-20210728095340874.png alt=image-20210728095340874 style=zoom:50%>
<img src=https://cdn.jsdelivr.net/gh/canw0916/picgo_imgs@main/blog/image-20210728095433900.png alt=image-20210728095433900 style=zoom:50%>
<img src=https://cdn.jsdelivr.net/gh/canw0916/picgo_imgs@main/blog/image-20210728095507330.png alt=image-20210728095507330 style=zoom:50%>
<img src=https://cdn.jsdelivr.net/gh/canw0916/picgo_imgs@main/blog/image-20210728095631337.png alt=image-20210728095631337 style=zoom:50%>
<img src=https://cdn.jsdelivr.net/gh/canw0916/picgo_imgs@main/blog/image-20210728100113133.png alt=image-20210728100113133 style=zoom:50%>
<img src=https://cdn.jsdelivr.net/gh/canw0916/picgo_imgs@main/blog/image-20210729195132883.png alt=image-20210729195132883 style=zoom:30%>
<img src=https://cdn.jsdelivr.net/gh/canw0916/picgo_imgs@main/blog/image-20210729195203348.png alt=image-20210729195203348 style=zoom:30%><p>对于mac的安装:https://blog.csdn.net/qq991658923/article/details/121436106</p><ul><li>Mac启动：<ul><li>mongod &ndash;dbpath /opt/mongodb/data &ndash;logpath /opt/mongodb/log/mongo.log &ndash;fork</li><li>mongo</li></ul></li></ul><h2 id=二-mongodb的简单使用>二, MongoDB的简单使用<a hidden class=anchor aria-hidden=true href=#二-mongodb的简单使用>#</a></h2><p>简单介绍一下mongoDB中一些操作(了解)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>show dbs: 显示所有数据库
</span></span><span class=line><span class=cl>show databases: 显示所有数据库
</span></span><span class=line><span class=cl>use xxxx: 使用指定数据库/创建数据库（新库中插入数据才可以显示新库）
</span></span><span class=line><span class=cl>db: 当前正在使用的数据库
</span></span><span class=line><span class=cl>db.dropDatabase(): 删除数据库
</span></span><span class=line><span class=cl>show collections: 显示当前数据库中所有的集合(表)
</span></span></code></pre></div><h2 id=三-mongodb的增删改查>三, MongoDB的增删改查<a hidden class=anchor aria-hidden=true href=#三-mongodb的增删改查>#</a></h2><h3 id=1-mongodb中常见的数据类型了解>1. mongodb中常见的数据类型(了解):<a hidden class=anchor aria-hidden=true href=#1-mongodb中常见的数据类型了解>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Object ID: 主键ID【&#34;_id&#34; : ObjectId(&#34;56063f17ade2f21f36b03133&#34;)】
</span></span><span class=line><span class=cl>String: 字符串
</span></span><span class=line><span class=cl>Boolean: 布尔值  
</span></span><span class=line><span class=cl>Integer: 数字
</span></span><span class=line><span class=cl>Doube: 小数
</span></span><span class=line><span class=cl>Arrays: 数组,[1,2,3]
</span></span><span class=line><span class=cl>Object: 文档(关联其他对象)  {sname: 李嘉诚, sage: 18, class:{cccc}}
</span></span><span class=line><span class=cl>Null : 空值 
</span></span><span class=line><span class=cl>Timestamp: 时间戳
</span></span><span class=line><span class=cl>Date: 时间日期
</span></span></code></pre></div><h3 id=2-mongodb插入数据文档>2. mongodb插入数据/文档<a hidden class=anchor aria-hidden=true href=#2-mongodb插入数据文档>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>#collection_name集合/表不存在则会新建
</span></span><span class=line><span class=cl>db.collection_name.insert({字段:值,字段:值})
</span></span></code></pre></div><p>示例:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>db.c1.insert({name:&#34;bobo&#34;, age:18, hobby:[&#39;eat&#39;, &#39;sleep&#39;]})
</span></span></code></pre></div><p>插入多条数据：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>#c1是表名/集合名
</span></span><span class=line><span class=cl>db.getCollection(&#39;c1&#39;).insertMany([
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;name&#34;:&#34;bobo&#34;,
</span></span><span class=line><span class=cl>        },
</span></span><span class=line><span class=cl>        {
</span></span><span class=line><span class=cl>            &#34;address&#34;:&#34;河北&#34;
</span></span><span class=line><span class=cl>        },
</span></span><span class=line><span class=cl>    ]
</span></span><span class=line><span class=cl>);
</span></span></code></pre></div><ul><li><p>注意, 如果集合不存在. 则会自动创建集合</p></li><li><p>插入数据后可以查询所有数据查看是否插入成功：</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>db.stu.find()
</span></span></code></pre></div><h3 id=3-mongodb修改数据>3. mongodb修改数据<a hidden class=anchor aria-hidden=true href=#3-mongodb修改数据>#</a></h3><h4 id=31-update更新>3.1 update更新<a hidden class=anchor aria-hidden=true href=#31-update更新>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>#d1是表名
</span></span><span class=line><span class=cl>db.d1.update({查询条件}, {待修改内容}, {multi: 是否多条数据修改})
</span></span><span class=line><span class=cl>multi:true表示修改满足条件所有的内容，否则只修改满足条件的第一条内容,multi不写默认为false
</span></span></code></pre></div><p>示例:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>db.d1.update({name:&#34;bobo&#34;}, {$set:{title:&#34;alex&#34;, hobby:[&#39;抽烟&#39;, &#39;喝酒&#39;, &#39;烫头&#39;]}}, {multi:true});
</span></span></code></pre></div><h3 id=4mongodb删除数据>4.mongodb删除数据<a hidden class=anchor aria-hidden=true href=#4mongodb删除数据>#</a></h3><h4 id=41-remove>4.1 remove()<a hidden class=anchor aria-hidden=true href=#41-remove>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>db.collection_name.remove({条件}, {justOne:true|false})
</span></span><span class=line><span class=cl>db.collection_name.remove() 删除所有记录
</span></span><span class=line><span class=cl>db.collection_name.drop()  删除collection/表
</span></span></code></pre></div><p>示例:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>db.nor_col.remove({name:&#34;jay&#34;}, {justOne:true})
</span></span></code></pre></div><h4 id=42-deleteone>4.2 deleteOne()<a hidden class=anchor aria-hidden=true href=#42-deleteone>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>db.collection_name.deleteOne({条件})
</span></span></code></pre></div><p>示例:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>db.nor_col.deleteOne({name:&#34;jay&#34;})
</span></span></code></pre></div><h4 id=43-deletemany>4.3 deleteMany()<a hidden class=anchor aria-hidden=true href=#43-deletemany>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>db.collection_name.deleteMany({条件})
</span></span></code></pre></div><p>示例:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>db.nor_col.deleteMany({name:&#34;jay&#34;})
</span></span></code></pre></div><h3 id=5-mongodb查询数据>5. mongodb查询数据<a hidden class=anchor aria-hidden=true href=#5-mongodb查询数据>#</a></h3><p>准备数据:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>db.stu.insert([
</span></span><span class=line><span class=cl>	{name: &#34;朱元璋&#34;, age:800, address:&#39;安徽省凤阳&#39;, score: 160},
</span></span><span class=line><span class=cl>	{name: &#34;朱棣&#34;, age:750, address:&#39;江苏省南京市&#39;, score: 120},
</span></span><span class=line><span class=cl>	{name: &#34;朱高炽&#34;, age:700, address:&#39;北京紫禁城&#39;, score: 90},
</span></span><span class=line><span class=cl>	{name: &#34;李嘉诚&#34;, age:38, address:&#39;香港xxx街道&#39;, score: 70},
</span></span><span class=line><span class=cl>	{name: &#34;麻花藤&#34;, age:28, address:&#39;广东省xxx市&#39;, score: 80},
</span></span><span class=line><span class=cl>	{name: &#34;大老王&#34;, age:33, address:&#39;火星第一卫星&#39;, score: -60},
</span></span><span class=line><span class=cl>	{name: &#34;咩咩&#34;, age:33, address:&#39;开普勒225旁边的黑洞&#39;, score: -160}
</span></span><span class=line><span class=cl>])
</span></span></code></pre></div><h4 id=51-普通查询>5.1 普通查询<a hidden class=anchor aria-hidden=true href=#51-普通查询>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>db.c1.find() 查询所有
</span></span><span class=line><span class=cl>db.c1.find({&#34;字段&#34;:&#34;固定值&#34;})  查询满足条件的所有数据
</span></span><span class=line><span class=cl>db.c1.findOne({条件})  查询满足条件的第一条数据
</span></span><span class=line><span class=cl>db.getCollection(&#39;c1&#39;).find({&#34;字段1&#34;:&#34;固定值1&#34;,&#34;字段2&#34;:&#34;固定值2&#34;})
</span></span></code></pre></div><h4 id=52-比较运算>5.2 比较运算<a hidden class=anchor aria-hidden=true href=#52-比较运算>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>等于： 默认是等于判断， $eq
</span></span><span class=line><span class=cl>小于：$lt （less than）
</span></span><span class=line><span class=cl>小于等于：$lte （less than equal）
</span></span><span class=line><span class=cl>大于：$gt （greater than）
</span></span><span class=line><span class=cl>大于等于：$gte
</span></span><span class=line><span class=cl>不等于：$ne
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>db.stu.find({age:28})  查询年龄是28岁的学生信息
</span></span><span class=line><span class=cl>db.stu.find({age: {$eq: 28}})  查询年龄是28岁的学生信息
</span></span><span class=line><span class=cl>db.stu.find({age: {$gt: 30}})   查询年龄大于30岁的学生
</span></span><span class=line><span class=cl>db.stu.find({age: {$lt: 30}})   查询年龄小于30岁的学生
</span></span><span class=line><span class=cl>db.stu.find({age: {$gte: 38}})  查询年龄大于等于30岁的学生
</span></span><span class=line><span class=cl>db.stu.find({age: {$lte: 38}})  查询年龄小于等于30岁的学生
</span></span><span class=line><span class=cl>db.stu.find({age: {$ne: 38}})   查询年龄不等于38的学生
</span></span></code></pre></div><h4 id=53-逻辑运算符>5.3 逻辑运算符<a hidden class=anchor aria-hidden=true href=#53-逻辑运算符>#</a></h4><ol><li>and
$and: [条件1, 条件2, 条件3&mldr;.]</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>查询年龄等于33, 并且, 名字是&#34;大老王&#34;的学生信息
</span></span><span class=line><span class=cl>db.stu.find({$and:[{age: {$eq:33}}, {name:&#39;大老王&#39;}]})
</span></span></code></pre></div><ol start=2><li>or
$or: [条件1, 条件2, 条件3]</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>查询名字叫&#34;李嘉诚&#34;的, 或者, 年龄超过100岁的人
</span></span><span class=line><span class=cl>db.stu.find({$or: [{name: &#39;李嘉诚&#39;}, {age: {$gt: 100}}]})
</span></span></code></pre></div><ol start=3><li><p>nor</p><p>$nor: [条件1, 条件2, 条件3]</p></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>查询年龄不小于38岁的人, 名字还不能是朱元璋. 
</span></span><span class=line><span class=cl>db.stu.find({$nor: [{age: {$lt: 38}}, {name: &#34;朱元璋&#34;}]})
</span></span></code></pre></div><h4 id=54-范围运算符>5.4 范围运算符<a hidden class=anchor aria-hidden=true href=#54-范围运算符>#</a></h4><p>​ 使用$in， $nin判断数据是否在某个数组内</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>db.stu.find({age: {$in:[28, 38]}})   年龄是28或者38的人
</span></span></code></pre></div><h4 id=55-正则表达式>5.5 正则表达式<a hidden class=anchor aria-hidden=true href=#55-正则表达式>#</a></h4><p>​ 使用$regex进行正则表达式匹配</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>db.stu.find({address: {$regex:&#39;^北京&#39;}})  查询地址是北京的人的信息
</span></span><span class=line><span class=cl>db.stu.find({address: /^北京/})  效果一样
</span></span></code></pre></div><h4 id=56-skip和limit>5.6 skip和limit<a hidden class=anchor aria-hidden=true href=#56-skip和limit>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>db.stu.find().skip(3).limit(3)	
</span></span></code></pre></div><p>跳过3个. 提取3个. 类似limit 3, 3 可以用来做分页</p><h4 id=57-排序>5.7 排序<a hidden class=anchor aria-hidden=true href=#57-排序>#</a></h4><p>sort({字段:1, 字段:-1})</p><p>1表示升序
-1表示降序</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>对查询结果排序, 先按照age升序排列, 相同项再按照score降序排列
</span></span><span class=line><span class=cl>db.stu.find().sort({age:1, score: -1})  
</span></span></code></pre></div><h4 id=58-统计数量>5.8 统计数量<a hidden class=anchor aria-hidden=true href=#58-统计数量>#</a></h4><p>count(条件) 查询数量</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>db.stu.count({age:33})
</span></span></code></pre></div><h2 id=四pymongo的使用>四，pymongo的使用<a hidden class=anchor aria-hidden=true href=#四pymongo的使用>#</a></h2><p>python处理mongodb首选就是pymongo. 首先, 安装一下这个模块</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>pip install pymongo
</span></span></code></pre></div><p>建立连接</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pymongo</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>conn</span> <span class=o>=</span> <span class=n>pymongo</span><span class=o>.</span><span class=n>MongoClient</span><span class=p>(</span><span class=n>host</span><span class=o>=</span><span class=s1>&#39;localhost&#39;</span><span class=p>,</span> <span class=n>port</span><span class=o>=</span><span class=mi>27017</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=c1># 切换数据库</span>
</span></span><span class=line><span class=cl><span class=n>py</span> <span class=o>=</span> <span class=n>conn</span><span class=p>[</span><span class=s1>&#39;python&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=c1># 登录该数据库(需要的话)</span>
</span></span><span class=line><span class=cl><span class=c1>#py.authenticate(&#34;python_admin&#34;, &#39;123456&#39;)</span>
</span></span><span class=line><span class=cl><span class=c1># 简单来个查询</span>
</span></span><span class=line><span class=cl><span class=n>result</span> <span class=o>=</span> <span class=n>py</span><span class=p>[</span><span class=s2>&#34;stu&#34;</span><span class=p>]</span><span class=o>.</span><span class=n>find</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>r</span> <span class=ow>in</span> <span class=n>result</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>r</span><span class=p>)</span>
</span></span></code></pre></div><p>完成增删改查</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pymongo</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>pymongo</span> <span class=kn>import</span> <span class=n>MongoClient</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#创建返回链接对象</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>get_db</span><span class=p>(</span><span class=n>database</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>client</span> <span class=o>=</span> <span class=n>MongoClient</span><span class=p>(</span><span class=n>host</span><span class=o>=</span><span class=s2>&#34;localhost&#34;</span><span class=p>,</span> <span class=n>port</span><span class=o>=</span><span class=mi>27017</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>db</span> <span class=o>=</span> <span class=n>client</span><span class=p>[</span><span class=n>database</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>db</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 增删改查</span>
</span></span><span class=line><span class=cl><span class=c1># 增加数据</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>add_one</span><span class=p>(</span><span class=n>table</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>db</span> <span class=o>=</span> <span class=n>get_db</span><span class=p>(</span><span class=s2>&#34;python&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>result</span> <span class=o>=</span> <span class=n>db</span><span class=p>[</span><span class=n>table</span><span class=p>]</span><span class=o>.</span><span class=n>insert_one</span><span class=p>(</span><span class=n>data</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>add_many</span><span class=p>(</span><span class=n>table</span><span class=p>,</span> <span class=n>data_list</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>db</span> <span class=o>=</span> <span class=n>get_db</span><span class=p>(</span><span class=s2>&#34;python&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>result</span> <span class=o>=</span> <span class=n>db</span><span class=p>[</span><span class=n>table</span><span class=p>]</span><span class=o>.</span><span class=n>insert_many</span><span class=p>(</span><span class=n>data_list</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>result</span><span class=o>.</span><span class=n>inserted_ids</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>upd</span><span class=p>(</span><span class=n>table</span><span class=p>,</span> <span class=n>condition</span><span class=p>,</span> <span class=n>data</span><span class=p>):</span><span class=c1>#condition条件</span>
</span></span><span class=line><span class=cl>    <span class=n>db</span> <span class=o>=</span> <span class=n>get_db</span><span class=p>(</span><span class=s2>&#34;python&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>result</span> <span class=o>=</span> <span class=n>db</span><span class=p>[</span><span class=n>table</span><span class=p>]</span><span class=o>.</span><span class=n>update_many</span><span class=p>(</span><span class=n>condition</span><span class=p>,</span> <span class=p>{</span><span class=s1>&#39;$set&#39;</span><span class=p>:</span><span class=n>data</span><span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>delete</span><span class=p>(</span><span class=n>table</span><span class=p>,</span> <span class=n>condition</span><span class=p>):</span><span class=c1>#condition条件</span>
</span></span><span class=line><span class=cl>    <span class=n>db</span> <span class=o>=</span> <span class=n>get_db</span><span class=p>(</span><span class=s2>&#34;python&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>result</span> <span class=o>=</span> <span class=n>db</span><span class=p>[</span><span class=n>table</span><span class=p>]</span><span class=o>.</span><span class=n>delete_many</span><span class=p>(</span><span class=n>condition</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>result</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># r = add_one(&#34;stu&#34;, {&#34;name&#34;: &#34;西瓜&#34;, &#34;age&#34;:18})</span>
</span></span><span class=line><span class=cl>    <span class=c1># print(r.inserted_id)</span>
</span></span><span class=line><span class=cl>    <span class=c1># r = add_many(&#34;stu&#34;, [{&#34;name&#34;: &#34;嘎嘎&#34;},{&#34;name&#34;: &#34;咔咔&#34;}])</span>
</span></span><span class=line><span class=cl>    <span class=c1># print(r)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># result = upd(&#34;stu&#34;, {&#34;name&#34;: &#39;西瓜&#39;}, {&#34;age&#34;: 100})</span>
</span></span><span class=line><span class=cl>    <span class=c1># print(result)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>result</span> <span class=o>=</span> <span class=n>delete</span><span class=p>(</span><span class=s2>&#34;stu&#34;</span><span class=p>,</span> <span class=p>{</span><span class=s2>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;嘎嘎&#34;</span><span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
</span></span></code></pre></div></div><div class=post-reward><div style=padding:0;margin:0;width:100%;font-size:16px;text-align:center><div id=QR style=opacity:0><div id=wechat style=display:inline-block><a class=fancybox rel=group><img id=wechat_qr src=https://canw0916.github.io/img/wxPay.jpg alt=wechat_pay></a><p>微信</p></div><div id=alipay style=display:inline-block><a class=fancybox rel=group><img id=alipay_qr src=https://canw0916.github.io/img/aliPay.jpg alt=alipay></a><p>支付宝</p></div></div><button id=rewardButton onclick='var qr=document.getElementById("QR");qr.style.opacity==="0"?qr.style.opacity="1":qr.style.opacity="0"'>
<span>🧧 鼓励</span></button></div></div><footer class=post-footer><nav class=paginav><a class=prev href=https://canw0916.github.io/en/posts/tech/scrapy%E6%A1%86%E6%9E%B6/><span class=title>« 上一页</span><br><span>Scrapy框架</span>
</a><a class=next href=https://canw0916.github.io/en/posts/tech/redis/><span class=title>下一页 »</span><br><span>Redis</span></a></nav></footer></div><div><div class=pagination__title><span class=pagination__title-h style=font-size:20px>💬评论</span><hr></div><div id=tcomment></div><script src=https://utteranc.es/client.js repo=canw0916/utterances_comments issue-term=title theme=photon-dark crossorigin=anonymous async></script></div></article></main><script async src=https://unpkg.com/mermaid@8.8.1/dist/mermaid.min.js></script><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><footer class=footer><span>Copyright
&copy;
2023-2024
<a href=https://canw0916.github.io/en/ style=color:#939393>Felix's Blog</a>
All Rights Reserved
</span><a href=https://beian.miit.gov.cn/ target=_blank style=color:#939393></a>&nbsp;
<span><a target=_blank href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=null" style=display:inline-block;text-decoration:none;height:20px;color:#939393><img src style="float:left;margin:0 5px 0 0">
</a></span><span id=busuanzi_container><link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css>总访客数: <span id=busuanzi_value_site_uv></span>
总访问量: <span id=busuanzi_value_site_pv></span></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><span class=topInner><svg class="topSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
<span id=read_progress></span>
</span></a><script>document.addEventListener("scroll",function(){const t=document.getElementById("read_progress"),n=document.documentElement.scrollHeight,s=document.documentElement.clientHeight,o=document.documentElement.scrollTop||document.body.scrollTop;t.innerText=((o/(n-s)).toFixed(2)*100).toFixed(0)})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>let mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>400||document.documentElement.scrollTop>400?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="📄复制";function s(){t.innerText="👌🏻已复制!",setTimeout(()=>{t.innerText="📄复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){let t=e.textContent+`
————————————————
版权声明：本文为「Felix's Blog」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：`+location.href;navigator.clipboard.writeText(t),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild===n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName==="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script src=https://code.jquery.com/jquery-1.12.4.min.js></script><script>$("code[class^=language] ").on("mouseover",function(){this.clientWidth<this.scrollWidth&&$(this).css("width","135%")}).on("mouseout",function(){$(this).css("width","100%")})</script></body></html>